{"version":3,"sources":["components/Footer.jsx","components/Header.jsx","store/actions/actionTypes.js","store/actions/catalog.js","components/ProductItem.jsx","containers/Catalog.jsx","containers/Navigation.jsx","containers/Main.jsx","components/ProductDetails.jsx","components/CreateProduct.jsx","containers/EditProduct.jsx","App.jsx","globalStyles.js","store/reducers/catalog.js","store/reducers/filter.js","store/reducers/rootReducer.js","store/store.js","index.jsx"],"names":["FooterWrap","styled","padding","textAlign","Footer","HeaderWrap","borderBottom","HeaderTitle","display","cursor","Header","history","useHistory","onClick","push","FETCH_CATALOG_START","FETCH_CATALOG_SUCCESS","FETCH_CATALOG_ERROR","CREATE_PRODUCT_SUCCESS","CREATE_PRODUCT_ERROR","EDIT_PRODUCT_SUCCESS","EDIT_PRODUCT_ERROR","DELETE_PRODUCT_SUCCESS","DELETE_PRODUCT_ERROR","ON_CHANGE_CATEGORY","fetchCatalogSuccess","catalog","type","deleteProductSuccess","id","fetchCatalog","dispatch","a","cachedData","window","localStorage","getItem","JSON","parse","fetch","response","json","data","setItem","stringify","e","error","deleteCatalogProduct","method","ProductWrap","position","justifyItems","gridTemplateRows","rowGap","border","borderRadius","overflow","zIndex","borderColor","ProductHeader","width","ButtonEdit","height","outline","background","backgroundSize","transition","backgroundColor","ButtonDelete","props","show","ButtonGroup","justifyContent","ProductTitle","marginBottom","fontSize","Price","connect","deleteProduct","product","isCreatedOnly","title","image","price","stopPropagation","src","alt","CatalogWrap","CatalogHeader","marginRight","ButtonSetCount","ButtonShowCreated","CatalogListItems","gridArea","gridTemplateColumns","gap","listStyleType","state","fetchComponentCatalog","initialState","useState","itemsCount","setItemsCount","setIsCreatedOnly","isPublishedOnly","setIsPublishedOnly","showItems","newcatalog","filter","item","isPublished","isCreate","index","getShowItems","useEffect","length","prevState","Switch","checked","onChange","inputProps","map","NavigationWrap","ButtonAddProduct","Navigation","MainWrap","Main","ProductDetailsWrap","maxWidth","margin","Image","left","useParams","find","el","String","category","description","rating","rate","count","CreateProductWrap","Form","Title","ResultText","p","color","ButtonsWrap","columnGap","InputSubmit","ButtonCancel","createProduct","createProductSuccess","createProductWithError","createProductError","resultOfCreation","setResultOfCreation","useForm","register","errors","formState","reset","handleSubmit","saveInLocalStorage","cachedCreatedProducts","storageProducts","onSubmit","productData","body","date","Date","_id","newProduct","setTimeout","placeholder","required","pattern","maxLength","style","min","htmlFor","EditProductWrap","InputDescription","editProduct","newCatalog","editProductWithError","editProductError","responseID","editedProduct","findIndex","defaultValue","AppWrapper","minHeight","App","path","exact","to","GlobalStyle","createGlobalStyle","combineReducers","action","composedEnhancer","composeWithDevTools","applyMiddleware","thunkMiddleware","store","createStore","rootReducer","app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.85f94caf.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst FooterWrap = styled('footer')({\r\n  padding: '0.5rem',\r\n  textAlign: 'center',\r\n});\r\n\r\nconst Footer = () => (\r\n  <FooterWrap>\r\n    <p>2021, made by Alex Sukhobski</p>\r\n  </FooterWrap>\r\n);\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { useHistory } from 'react-router';\r\n\r\nconst HeaderWrap = styled('header')({\r\n  padding: '0.5rem',\r\n  borderBottom: '1px solid #eeeeee',\r\n});\r\n\r\nconst HeaderTitle = styled('h1')({\r\n  display: 'inline-block',\r\n  cursor: 'pointer',\r\n});\r\n\r\nconst Header = () => {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <HeaderWrap>\r\n      <HeaderTitle onClick={() => history.push('/')}>Super shop</HeaderTitle>\r\n    </HeaderWrap>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","// Catalog's types\r\nexport const FETCH_CATALOG_START = 'FETCH_CATALOG_START';\r\nexport const FETCH_CATALOG_SUCCESS = 'FETCH_CATALOG_SUCCESS';\r\nexport const FETCH_CATALOG_ERROR = 'FETCH_CATALOG_ERROR';\r\n\r\nexport const CREATE_PRODUCT_SUCCESS = 'CREATE_PRODUCT_SUCCESS';\r\nexport const CREATE_PRODUCT_ERROR = 'CREATE_PRODUCT_ERROR';\r\n\r\nexport const EDIT_PRODUCT_SUCCESS = 'EDIT_PRODUCT_SUCCESS';\r\nexport const EDIT_PRODUCT_ERROR = 'EDIT_PRODUCT_ERROR';\r\n\r\nexport const DELETE_PRODUCT_SUCCESS = 'DELETE_PRODUCT_SUCCESS';\r\nexport const DELETE_PRODUCT_ERROR = 'DELETE_PRODUCT_ERROR';\r\n\r\n// Filter's types\r\nexport const ON_CHANGE_CATEGORY = 'ON_CHANGE_CATEGORY';\r\n","import {\r\n  FETCH_CATALOG_ERROR,\r\n  FETCH_CATALOG_START,\r\n  FETCH_CATALOG_SUCCESS,\r\n  CREATE_PRODUCT_ERROR,\r\n  CREATE_PRODUCT_SUCCESS,\r\n  EDIT_PRODUCT_SUCCESS,\r\n  EDIT_PRODUCT_ERROR,\r\n  DELETE_PRODUCT_SUCCESS,\r\n  DELETE_PRODUCT_ERROR,\r\n} from './actionTypes';\r\n\r\nexport function fetchCatalogStart() {\r\n  return {\r\n    type: FETCH_CATALOG_START,\r\n  };\r\n}\r\n\r\nexport function fetchCatalogSuccess(catalog) {\r\n  return {\r\n    type: FETCH_CATALOG_SUCCESS,\r\n    catalog,\r\n  };\r\n}\r\n\r\nexport function fetchCatalogError(e) {\r\n  return {\r\n    type: FETCH_CATALOG_ERROR,\r\n    error: e,\r\n  };\r\n}\r\n\r\nexport function createProductSuccess(product) {\r\n  return {\r\n    type: CREATE_PRODUCT_SUCCESS,\r\n    product,\r\n  };\r\n}\r\n\r\nexport function createProductError(e) {\r\n  return {\r\n    type: CREATE_PRODUCT_ERROR,\r\n    error: e,\r\n  };\r\n}\r\n\r\nexport function editProductSuccess(catalog) {\r\n  return {\r\n    type: EDIT_PRODUCT_SUCCESS,\r\n    catalog,\r\n  };\r\n}\r\n\r\nexport function editProductError(e) {\r\n  return {\r\n    type: EDIT_PRODUCT_ERROR,\r\n    error: e,\r\n  };\r\n}\r\n\r\nexport function deleteProductSuccess(id) {\r\n  return {\r\n    type: DELETE_PRODUCT_SUCCESS,\r\n    id,\r\n  };\r\n}\r\n\r\nexport function deleteProductError(e) {\r\n  return {\r\n    type: DELETE_PRODUCT_ERROR,\r\n    error: e,\r\n  };\r\n}\r\n\r\nexport function fetchCatalog() {\r\n  return async (dispatch) => {\r\n    dispatch(fetchCatalogStart());\r\n    try {\r\n      const cachedData = window.localStorage.getItem('catalog');\r\n      if (cachedData) {\r\n        dispatch(fetchCatalogSuccess(JSON.parse(cachedData)));\r\n        return;\r\n      }\r\n\r\n      const response = await fetch('https://fakestoreapi.com/products');\r\n      const data = await response.json();\r\n\r\n      window.localStorage.setItem('catalog', JSON.stringify(data));\r\n      dispatch(fetchCatalogSuccess(data));\r\n      return;\r\n    } catch (e) {\r\n      dispatch(fetchCatalogError(e));\r\n    }\r\n  };\r\n}\r\n\r\nexport function deleteCatalogProduct(id) {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await fetch(`https://fakestoreapi.com/products/${id}`, {\r\n        method: 'DELETE',\r\n      });\r\n      const data = await response.json();\r\n      dispatch(deleteProductSuccess(data.id));\r\n      return;\r\n    } catch (e) {\r\n      dispatch(deleteProductError(e));\r\n    }\r\n  };\r\n}\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory } from 'react-router';\r\nimport { deleteCatalogProduct } from '../store/actions/catalog';\r\n\r\nconst ProductWrap = styled('li')({\r\n  position: 'relative',\r\n  display: 'grid',\r\n  justifyItems: 'center',\r\n  gridTemplateRows: 'auto 160px 25px',\r\n  rowGap: '0.5rem',\r\n  padding: '0.5rem',\r\n  border: '1px solid #eeeeee',\r\n  borderRadius: 4,\r\n  overflow: 'hidden',\r\n  cursor: 'pointer',\r\n  zIndex: 0,\r\n  '&:active': {\r\n    borderColor: '#5a5a65',\r\n  },\r\n});\r\n\r\nconst ProductHeader = styled('header')({\r\n  width: '100%',\r\n});\r\n\r\nconst ButtonEdit = styled('button')({\r\n  width: '2rem',\r\n  height: '2rem',\r\n  outline: 'none',\r\n  borderRadius: 32,\r\n  border: 'none',\r\n  background: 'url(/img/pen.png) no-repeat center',\r\n  backgroundSize: '17px',\r\n  cursor: 'pointer',\r\n  transition: 'all .3s ease-out',\r\n  zIndex: 40,\r\n  '&:active': {\r\n    backgroundColor: '#e0e0e0',\r\n  },\r\n});\r\n\r\nconst ButtonDelete = styled('button')((props) => ({\r\n  display: props.show ? 'inline-block' : 'none',\r\n  width: '2rem',\r\n  height: '2rem',\r\n  outline: 'none',\r\n  borderRadius: 32,\r\n  border: 'none',\r\n  background: 'url(/img/trash.png) no-repeat center',\r\n  backgroundSize: '17px',\r\n  cursor: 'pointer',\r\n  transition: 'all .3s ease-out',\r\n  '&:active': {\r\n    backgroundColor: '#e0e0e0',\r\n  },\r\n}));\r\n\r\nconst ButtonGroup = styled('div')({\r\n  display: 'flex',\r\n  justifyContent: 'end',\r\n});\r\n\r\nconst ProductTitle = styled('h3')({\r\n  marginBottom: '0.5rem',\r\n  fontSize: '1rem',\r\n  textAlign: 'center',\r\n  overflow: 'hidden',\r\n  '&:hover': {\r\n    overflow: 'visible',\r\n  },\r\n});\r\n\r\nconst Price = styled('p')({\r\n  fontSize: '1.25rem',\r\n  textAlign: 'center',\r\n});\r\n\r\nconst ProductItem = ({ product, isCreatedOnly, deleteProduct }) => {\r\n  const defaultImage = 'https://clck.ru/YEDXY';\r\n  const { id, title, image = defaultImage, price } = product;\r\n  const history = useHistory();\r\n\r\n  const handleButtonEditClick = (e) => {\r\n    e.stopPropagation();\r\n    history.push(`/edit-product/${id}`);\r\n  };\r\n\r\n  const handleButtonDeleteClick = (e) => {\r\n    e.stopPropagation();\r\n    deleteProduct(id);\r\n  };\r\n\r\n  return (\r\n    <ProductWrap onClick={() => history.push(`/products/${id}`)}>\r\n      <ProductHeader>\r\n        <ButtonGroup>\r\n          <ButtonEdit onClick={handleButtonEditClick} />\r\n          <ButtonDelete\r\n            onClick={handleButtonDeleteClick}\r\n            show={isCreatedOnly}\r\n          />\r\n        </ButtonGroup>\r\n        <ProductTitle>{title}</ProductTitle>\r\n      </ProductHeader>\r\n      <img src={image} alt={title} height=\"150px\" />\r\n      <Price>{price}$</Price>\r\n    </ProductWrap>\r\n  );\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    deleteProduct: (id) => dispatch(deleteCatalogProduct(id)),\r\n  };\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(ProductItem);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport Switch from '@mui/material/Switch';\r\nimport ProductItem from '../components/ProductItem';\r\nimport { fetchCatalog } from '../store/actions/catalog';\r\n\r\nconst CatalogWrap = styled('section')({});\r\nconst CatalogHeader = styled('header')({\r\n  padding: '0.5rem',\r\n  '& button': {\r\n    marginRight: '0.5rem',\r\n  },\r\n  '& button:last-child': {\r\n    marginRight: 0,\r\n  },\r\n});\r\n\r\nconst ButtonSetCount = styled('button')((props) => ({\r\n  width: 40,\r\n  padding: '0.5rem',\r\n  border: 'none',\r\n  outline: 'none',\r\n  borderRadius: 4,\r\n  background: props.background,\r\n  cursor: 'pointer',\r\n}));\r\n\r\nconst ButtonShowCreated = styled(ButtonSetCount)({\r\n  width: 'auto',\r\n});\r\n\r\nconst CatalogListItems = styled('ul')({\r\n  gridArea: 'header',\r\n  display: 'grid',\r\n  gridTemplateColumns: 'repeat(auto-fill, minmax(284px, 1fr))',\r\n  gap: '0.5rem',\r\n  padding: '0.5rem',\r\n  listStyleType: 'none',\r\n});\r\n\r\nconst Catalog = ({ fetchComponentCatalog, catalog }) => {\r\n  const initialState = JSON.parse(window.localStorage.getItem('catalogState'));\r\n\r\n  const [itemsCount, setItemsCount] = useState(initialState?.itemsCount || 8);\r\n  const [isCreatedOnly, setIsCreatedOnly] = useState(\r\n    initialState?.isCreatedOnly || false\r\n  );\r\n  const [isPublishedOnly, setIsPublishedOnly] = useState(\r\n    initialState?.isPublishedOnly || false\r\n  );\r\n\r\n  const getShowItems = () => {\r\n    let newcatalog = [...catalog];\r\n\r\n    if (isPublishedOnly) {\r\n      newcatalog = newcatalog.filter((item) => item.isPublished !== false);\r\n    }\r\n\r\n    if (isCreatedOnly) {\r\n      newcatalog = newcatalog.filter((item) => item?.isCreate);\r\n    }\r\n\r\n    return newcatalog.filter((item, index) =>\r\n      index < itemsCount ? item : false\r\n    );\r\n  };\r\n\r\n  const showItems = getShowItems();\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\r\n      'catalogState',\r\n      JSON.stringify({ itemsCount, isCreatedOnly, isPublishedOnly })\r\n    );\r\n  }, [itemsCount, isCreatedOnly, isPublishedOnly]);\r\n\r\n  useEffect(() => fetchComponentCatalog(), []);\r\n\r\n  return (\r\n    <CatalogWrap>\r\n      <CatalogHeader>\r\n        <span>Count: </span>\r\n        <ButtonSetCount\r\n          onClick={() => setItemsCount(8)}\r\n          type=\"button\"\r\n          background={itemsCount === 8 ? '#cccccc' : '#efefef'}\r\n        >\r\n          8\r\n        </ButtonSetCount>\r\n        <ButtonSetCount\r\n          onClick={() => setItemsCount(16)}\r\n          type=\"button\"\r\n          background={itemsCount === 16 ? '#cccccc' : '#efefef'}\r\n        >\r\n          16\r\n        </ButtonSetCount>\r\n        <ButtonSetCount\r\n          onClick={() => setItemsCount(catalog.length)}\r\n          type=\"button\"\r\n          background={itemsCount === catalog.length ? '#cccccc' : '#efefef'}\r\n        >\r\n          All\r\n        </ButtonSetCount>\r\n        <ButtonShowCreated\r\n          onClick={() => setIsCreatedOnly((prevState) => !prevState)}\r\n          type=\"button\"\r\n          background={isCreatedOnly ? '#cccccc' : '#efefef'}\r\n        >\r\n          Only created\r\n        </ButtonShowCreated>\r\n        <span>Only published: </span>\r\n        <Switch\r\n          checked={isPublishedOnly}\r\n          onChange={() => setIsPublishedOnly(!isPublishedOnly)}\r\n          inputProps={{ 'aria-label': 'controlled' }}\r\n        />\r\n      </CatalogHeader>\r\n      <CatalogListItems>\r\n        {showItems &&\r\n          showItems.map((product) => {\r\n            if (product.id) {\r\n              return (\r\n                <ProductItem\r\n                  product={product}\r\n                  isCreatedOnly={isCreatedOnly}\r\n                  key={product.id}\r\n                />\r\n              );\r\n            }\r\n            return null;\r\n          })}\r\n      </CatalogListItems>\r\n    </CatalogWrap>\r\n  );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    catalog: state.catalog.catalog,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    fetchComponentCatalog: () => dispatch(fetchCatalog()),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Catalog);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { useHistory } from 'react-router';\r\n\r\nconst NavigationWrap = styled('nav')({\r\n  padding: '0.5rem',\r\n  border: '1px solid #eeeeee',\r\n});\r\n\r\nconst ButtonAddProduct = styled('button')({\r\n  padding: '0.5rem',\r\n  border: 'none',\r\n  outline: 'none',\r\n  borderRadius: 4,\r\n  background: '#b8f2c8',\r\n  cursor: 'pointer',\r\n  '&:active': {\r\n    background: '#a9deb7',\r\n  },\r\n});\r\n\r\nconst Navigation = () => {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <NavigationWrap>\r\n      <ButtonAddProduct\r\n        onClick={() => history.push('/create-product')}\r\n        type=\"button\"\r\n      >\r\n        Create product\r\n      </ButtonAddProduct>\r\n    </NavigationWrap>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Catalog from './Catalog';\r\nimport Navigation from './Navigation';\r\n\r\nconst MainWrap = styled('main')({\r\n  border: '1px solid #eeeeee',\r\n});\r\n\r\nconst Main = () => (\r\n  <MainWrap>\r\n    <Navigation />\r\n    <Catalog />\r\n  </MainWrap>\r\n);\r\n\r\nexport default Main;\r\n","import React, { useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useHistory } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport { deleteCatalogProduct, fetchCatalog } from '../store/actions/catalog';\r\n\r\nconst ProductDetailsWrap = styled('section')({\r\n  position: 'relative',\r\n  maxWidth: 600,\r\n  margin: '0 auto',\r\n  padding: '0.5rem',\r\n});\r\n\r\nconst Image = styled('img')({\r\n  height: 200,\r\n});\r\n\r\nconst ButtonDelete = styled('button')({\r\n  position: 'relative',\r\n  left: '90%',\r\n  display: 'block',\r\n  width: '2rem',\r\n  height: '2rem',\r\n  outline: 'none',\r\n  borderRadius: 32,\r\n  border: 'none',\r\n  background: 'url(/img/trash.png) no-repeat center',\r\n  backgroundSize: '17px',\r\n  cursor: 'pointer',\r\n  transition: 'all .3s ease-out',\r\n  '&:active': {\r\n    backgroundColor: '#e0e0e0',\r\n  },\r\n});\r\n\r\nconst ProductDetails = ({ fetchComponentCatalog, catalog, deleteProduct }) => {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const product = catalog.find((el) => String(el.id) === String(id));\r\n  const {\r\n    category = 'no category',\r\n    description,\r\n    image = 'https://clck.ru/YEDXY',\r\n    price,\r\n    rating = { rate: 0, count: 0 },\r\n    title,\r\n  } = product;\r\n\r\n  const handleButtonDeleteClick = () => {\r\n    deleteProduct(id);\r\n    history.push('/');\r\n  };\r\n  useEffect(() => fetchComponentCatalog(), []);\r\n\r\n  return (\r\n    <ProductDetailsWrap>\r\n      <ButtonDelete onClick={handleButtonDeleteClick} />\r\n      <h2>{title}</h2>\r\n      <p>Category: {category}</p>\r\n      <Image src={image} alt={title} />\r\n      <p>{description}</p>\r\n      <p>\r\n        Rating: {rating.rate}/5 Count: {rating.count}\r\n      </p>\r\n      <p>{price}$</p>\r\n    </ProductDetailsWrap>\r\n  );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    catalog: state.catalog.catalog,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    fetchComponentCatalog: () => dispatch(fetchCatalog()),\r\n    deleteProduct: (id) => dispatch(deleteCatalogProduct(id)),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetails);\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useHistory } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  createProductSuccess,\r\n  createProductError,\r\n} from '../store/actions/catalog';\r\n\r\nconst CreateProductWrap = styled('section')({\r\n  margin: '0 auto',\r\n  padding: '0.5rem',\r\n});\r\n\r\nconst Form = styled('form')({\r\n  display: 'grid',\r\n  rowGap: '1rem',\r\n  gridTemplateColumns: 'minmax(auto, 500px)',\r\n  '& input': {\r\n    width: '100%',\r\n    padding: '0.5rem',\r\n    borderRadius: 4,\r\n    border: '1px solid #dddddd',\r\n    outline: 'none',\r\n  },\r\n  '& input[type=\"checkbox\"]': {\r\n    width: 'auto',\r\n  },\r\n});\r\n\r\nconst Title = styled('h3')({\r\n  marginBottom: '1rem',\r\n});\r\n\r\nconst ResultText = styled.p((props) => ({\r\n  color: props.error ? 'red' : '#85de9e',\r\n}));\r\n\r\nconst ButtonsWrap = styled('div')({\r\n  display: 'grid',\r\n  columnGap: '1rem',\r\n  gridTemplateColumns: '1fr 1fr',\r\n});\r\n\r\nconst InputSubmit = styled('input')({\r\n  '&:active': {\r\n    background: '#e0e0e0',\r\n  },\r\n});\r\n\r\nconst ButtonCancel = styled('button')({\r\n  padding: '0.5rem',\r\n  border: '1px solid #dddddd',\r\n  borderRadius: 4,\r\n  outline: 'none',\r\n  '&:active': {\r\n    background: '#e0e0e0',\r\n  },\r\n});\r\n\r\nexport { Form, Title, ResultText, ButtonsWrap, InputSubmit, ButtonCancel };\r\n\r\nconst CreateProduct = ({ createProduct, createProductWithError }) => {\r\n  const [resultOfCreation, setResultOfCreation] = useState(null);\r\n  const history = useHistory();\r\n  const {\r\n    register,\r\n    formState: { errors },\r\n    reset,\r\n    handleSubmit,\r\n  } = useForm();\r\n\r\n  const saveInLocalStorage = (product) => {\r\n    const cachedCreatedProducts = window.localStorage.getItem('catalog');\r\n\r\n    if (cachedCreatedProducts) {\r\n      const storageProducts = JSON.parse(cachedCreatedProducts);\r\n      storageProducts.push(product);\r\n      window.localStorage.setItem('catalog', JSON.stringify(storageProducts));\r\n    } else {\r\n      window.localStorage.setItem('catalog', JSON.stringify([product]));\r\n    }\r\n  };\r\n\r\n  const showSuccessResult = () => {\r\n    setResultOfCreation('success');\r\n    setTimeout(() => setResultOfCreation(null), 3000);\r\n  };\r\n\r\n  const showErrorResult = () => {\r\n    setResultOfCreation('error');\r\n    setTimeout(() => setResultOfCreation(null), 3000);\r\n  };\r\n\r\n  const onSubmit = async (productData) => {\r\n    try {\r\n      const response = await fetch('https://fakestoreapi.com/products', {\r\n        method: 'POST',\r\n        body: JSON.stringify(productData),\r\n      });\r\n      const data = await response.json();\r\n\r\n      const date = new Date();\r\n      const { _id } = data;\r\n      const newProduct = { id: _id, date, isCreate: true, ...productData };\r\n\r\n      saveInLocalStorage(newProduct);\r\n      createProduct(newProduct);\r\n      showSuccessResult();\r\n      reset({\r\n        title: '',\r\n        description: '',\r\n        price: '',\r\n        isPublished: false,\r\n      });\r\n    } catch (e) {\r\n      createProductWithError(e);\r\n      showErrorResult();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CreateProductWrap>\r\n      <Title>Create product</Title>\r\n      <Form onSubmit={handleSubmit(onSubmit)}>\r\n        <input\r\n          placeholder=\"Title\"\r\n          {...register('title', {\r\n            required: true,\r\n            pattern: /^[A-Za-zА-Яа-я0-9]+/i,\r\n            maxLength: 50,\r\n          })}\r\n        />\r\n        {errors.title?.type === 'required' && (\r\n          <span style={{ color: 'red' }}>Title is required</span>\r\n        )}\r\n        <input\r\n          placeholder=\"Description\"\r\n          {...register('description', {\r\n            required: true,\r\n            maxLength: 200,\r\n          })}\r\n        />\r\n        {errors.description?.type === 'required' && (\r\n          <span style={{ color: 'red' }}>Description is required</span>\r\n        )}\r\n        <input\r\n          placeholder=\"Price\"\r\n          type=\"double\"\r\n          {...register('price', {\r\n            required: true,\r\n            min: 0.01,\r\n          })}\r\n        />\r\n        {errors.price?.type === 'required' && (\r\n          <span style={{ color: 'red' }}>Price is required</span>\r\n        )}\r\n        <label htmlFor=\"is-publish\">\r\n          <input type=\"checkbox\" id=\"is-publish\" {...register('isPublished')} />\r\n          publish\r\n        </label>\r\n        <ButtonsWrap>\r\n          <InputSubmit type=\"submit\" />\r\n          <ButtonCancel onClick={() => history.push('/products')} type=\"button\">\r\n            Cancel\r\n          </ButtonCancel>\r\n        </ButtonsWrap>\r\n        {resultOfCreation === 'success' && (\r\n          <ResultText>The product has created successfully</ResultText>\r\n        )}\r\n        {resultOfCreation === 'error' && (\r\n          <ResultText error>The product hasn&apos;t created</ResultText>\r\n        )}\r\n      </Form>\r\n    </CreateProductWrap>\r\n  );\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    createProduct: (product) => dispatch(createProductSuccess(product)),\r\n    createProductWithError: (e) => dispatch(createProductError(e)),\r\n  };\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(CreateProduct);\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\n/* eslint-disable no-shadow */\r\nimport React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useHistory } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport { editProductError, editProductSuccess } from '../store/actions/catalog';\r\nimport {\r\n  Form,\r\n  Title,\r\n  ResultText,\r\n  ButtonsWrap,\r\n  ButtonCancel,\r\n} from '../components/CreateProduct';\r\n\r\n// STYLES===================================================================================================\r\nconst EditProductWrap = styled('section')({\r\n  padding: '0.5rem',\r\n});\r\n\r\nconst InputDescription = styled('p')({\r\n  marginBottom: '0.25rem',\r\n  fontSize: '0.75rem',\r\n});\r\n\r\nconst InputSubmit = styled('input')({\r\n  '&:active': {\r\n    background: '#e0e0e0',\r\n  },\r\n});\r\n\r\n//  ?COMPONENT==============================================================================================\r\nconst EditProduct = ({ catalog, editProduct, editProductWithError }) => {\r\n  const [resultOfCreation, setResultOfCreation] = useState(null);\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n  const product = catalog.find((el) => String(el.id) === String(id));\r\n  const {\r\n    register,\r\n    formState: { errors },\r\n    handleSubmit,\r\n  } = useForm();\r\n\r\n  const {\r\n    category = '',\r\n    description,\r\n    image = '',\r\n    price,\r\n    title,\r\n    isPublished,\r\n  } = product;\r\n\r\n  // FUNCTIONS ==========================================================================================\r\n  // const handleButtonCancelClick = () => history.push('/products');\r\n\r\n  const showSuccessResult = () => {\r\n    setResultOfCreation('success');\r\n    setTimeout(() => history.push('/'), 3000);\r\n  };\r\n\r\n  const showErrorResult = () => {\r\n    setResultOfCreation('error');\r\n    setTimeout(() => setResultOfCreation(null), 3000);\r\n  };\r\n\r\n  const onSubmit = async (productData) => {\r\n    const { title, price, description, image, category } = productData;\r\n    try {\r\n      const response = await fetch(`https://fakestoreapi.com/products/${id}`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify({\r\n          title,\r\n          price: +price,\r\n          description,\r\n          image,\r\n          category,\r\n        }),\r\n      });\r\n      const data = await response.json();\r\n      const { id: responseID } = data;\r\n\r\n      const date = new Date();\r\n      const editedProduct = {\r\n        id: responseID,\r\n        date,\r\n        isCreate: true,\r\n        ...productData,\r\n      };\r\n\r\n      const newCatalog = [...catalog];\r\n      const index = newCatalog.findIndex(\r\n        (item) => String(item.id) === String(editedProduct.id)\r\n      );\r\n      newCatalog[index] = editedProduct;\r\n\r\n      window.localStorage.setItem('catalog', JSON.stringify(newCatalog));\r\n      editProduct(newCatalog);\r\n      showSuccessResult();\r\n    } catch (e) {\r\n      editProductWithError(e);\r\n      showErrorResult();\r\n    }\r\n  };\r\n\r\n  //! RENDER===============================================================================\r\n  return (\r\n    <EditProductWrap>\r\n      <Title>Edit product</Title>\r\n      <Form onSubmit={handleSubmit(onSubmit)}>\r\n        <label htmlFor=\"title\">\r\n          <InputDescription>Title</InputDescription>\r\n          <input\r\n            placeholder=\"Title\"\r\n            defaultValue={title}\r\n            id=\"title\"\r\n            {...register('title', {\r\n              required: true,\r\n              maxLength: 100,\r\n            })}\r\n          />\r\n          {errors.title?.type === 'required' && (\r\n            <span style={{ color: 'red' }}>Title is required</span>\r\n          )}\r\n        </label>\r\n        <label htmlFor=\"category\">\r\n          <InputDescription>Category</InputDescription>\r\n          <input\r\n            placeholder=\"Category\"\r\n            defaultValue={category}\r\n            id=\"category\"\r\n            {...register('category', {\r\n              required: true,\r\n            })}\r\n          />\r\n        </label>\r\n        <label htmlFor=\"image-url\">\r\n          <InputDescription>Image url</InputDescription>\r\n          <input\r\n            placeholder=\"Image\"\r\n            defaultValue={image}\r\n            id=\"image-url\"\r\n            {...register('image', {\r\n              required: true,\r\n            })}\r\n          />\r\n        </label>\r\n        <label htmlFor=\"desctiption\">\r\n          <InputDescription>Description</InputDescription>\r\n          <input\r\n            placeholder=\"Description\"\r\n            defaultValue={description}\r\n            id=\"desctiption\"\r\n            {...register('description', {\r\n              required: true,\r\n            })}\r\n          />\r\n          {errors.description?.type === 'required' && (\r\n            <span style={{ color: 'red' }}>Description is required</span>\r\n          )}\r\n        </label>\r\n        <label htmlFor=\"price\">\r\n          <InputDescription>Price</InputDescription>\r\n          <input\r\n            placeholder=\"Price\"\r\n            defaultValue={+price}\r\n            {...register('price', {\r\n              required: true,\r\n              min: 0.01,\r\n            })}\r\n          />\r\n          {errors.price?.type === 'required' && (\r\n            <span style={{ color: 'red' }}>Price is required</span>\r\n          )}\r\n        </label>\r\n        <label htmlFor=\"is-publish\">\r\n          <input\r\n            type=\"checkbox\"\r\n            id=\"is-publish\"\r\n            defaultValue={isPublished}\r\n            {...register('isPublished')}\r\n          />\r\n          <span>publish</span>\r\n        </label>\r\n        <ButtonsWrap>\r\n          <InputSubmit type=\"submit\" />\r\n          <ButtonCancel onClick={() => history.push('/products')} type=\"button\">\r\n            Cancel\r\n          </ButtonCancel>\r\n        </ButtonsWrap>\r\n        {resultOfCreation === 'success' && (\r\n          <ResultText>The product has created successfully</ResultText>\r\n        )}\r\n        {resultOfCreation === 'error' && (\r\n          <ResultText error>The product hasn&apos;t created</ResultText>\r\n        )}\r\n      </Form>\r\n    </EditProductWrap>\r\n  );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    catalog: state.catalog.catalog,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    editProduct: (newCatalog) => dispatch(editProductSuccess(newCatalog)),\r\n    editProductWithError: (e) => dispatch(editProductError(e)),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditProduct);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from 'react-router-dom';\r\nimport Footer from './components/Footer';\r\nimport Header from './components/Header';\r\nimport Main from './containers/Main';\r\nimport ProductDetails from './components/ProductDetails';\r\nimport CreateProduct from './components/CreateProduct';\r\nimport EditProduct from './containers/EditProduct';\r\n\r\nconst AppWrapper = styled('div')({\r\n  position: 'relative',\r\n  display: 'grid',\r\n  gridTemplateRows: 'auto 1fr auto',\r\n  minHeight: '100vh',\r\n  maxWidth: 1280,\r\n  margin: '0 auto',\r\n  border: '1px solid #eeeeee',\r\n});\r\n\r\nconst App = () => (\r\n  <AppWrapper>\r\n    <Router>\r\n      <Header />\r\n      <Switch>\r\n        <Route path=\"/edit-product/:id\">\r\n          <EditProduct />\r\n        </Route>\r\n        <Route path=\"/create-product\">\r\n          <CreateProduct />\r\n        </Route>\r\n        <Route path=\"/products/:id\">\r\n          <ProductDetails />\r\n        </Route>\r\n        <Route path=\"/products\">\r\n          <Main />\r\n        </Route>\r\n        <Route path=\"/\" exact>\r\n          <Redirect to=\"products\" />\r\n        </Route>\r\n        <Route path=\"*\">\r\n          <div>\r\n            <h2>404 error</h2>\r\n          </div>\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n    <Footer />\r\n  </AppWrapper>\r\n);\r\n\r\nexport default App;\r\n","import { createGlobalStyle } from 'styled-components';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  *,\r\n  *::before,\r\n  *::after {\r\n    box-sizing: border-box;\r\n  }\r\n  /* Убираем внешние отступы */\r\n  body,\r\n  h1,\r\n  h2,\r\n  h3,\r\n  h4,\r\n  p,\r\n  ul,\r\n  ol[class],\r\n  li,\r\n  figure,\r\n  figcaption,\r\n  blockquote,\r\n  dl,\r\n  dd {\r\n    margin: 0;\r\n  }\r\n  body {\r\n    scroll-behavior: smooth;\r\n    text-rendering: optimizeSpeed;\r\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\r\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\r\n    sans-serif;\r\n    color: #5a5a65;\r\n  };\r\n  input,\r\n  button,\r\n  textarea,\r\n  select,\r\n  option {\r\n    font: inherit;\r\n  }\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","import {\r\n  FETCH_CATALOG_ERROR,\r\n  FETCH_CATALOG_START,\r\n  FETCH_CATALOG_SUCCESS,\r\n  CREATE_PRODUCT_SUCCESS,\r\n  CREATE_PRODUCT_ERROR,\r\n  EDIT_PRODUCT_SUCCESS,\r\n  EDIT_PRODUCT_ERROR,\r\n  DELETE_PRODUCT_SUCCESS,\r\n  DELETE_PRODUCT_ERROR,\r\n} from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n  catalog: JSON.parse(window.localStorage.getItem('catalog')) || [],\r\n};\r\n\r\nexport default function catalogReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case FETCH_CATALOG_START:\r\n      return {\r\n        ...state,\r\n      };\r\n    case FETCH_CATALOG_SUCCESS:\r\n      return {\r\n        ...state,\r\n        catalog: [...action.catalog],\r\n      };\r\n    case FETCH_CATALOG_ERROR:\r\n      return {\r\n        ...state,\r\n      };\r\n    case CREATE_PRODUCT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        catalog: [...state.catalog, action.product],\r\n      };\r\n    case CREATE_PRODUCT_ERROR:\r\n      return {\r\n        ...state,\r\n      };\r\n    case EDIT_PRODUCT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        catalog: [...action.catalog],\r\n      };\r\n    case EDIT_PRODUCT_ERROR:\r\n      return {\r\n        ...state,\r\n      };\r\n    case DELETE_PRODUCT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        catalog: [...state.catalog.filter((item) => item.id !== action.id)],\r\n      };\r\n    case DELETE_PRODUCT_ERROR:\r\n      return {\r\n        ...state,\r\n        catalog: [\r\n          ...state.catalog.filter(\r\n            (item) => String(item.id) !== String(action.id)\r\n          ),\r\n        ],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { ON_CHANGE_CATEGORY } from '../actions/actionTypes';\r\n\r\nconst initialState = {};\r\n\r\nexport default function filterReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ON_CHANGE_CATEGORY:\r\n      return {\r\n        ...state,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport catalogReducer from './catalog';\r\nimport filterReducer from './filter';\r\n\r\nexport default combineReducers({\r\n  catalog: catalogReducer,\r\n  filter: filterReducer,\r\n});\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport rootReducer from './reducers/rootReducer';\r\n\r\nconst composedEnhancer = composeWithDevTools(applyMiddleware(thunkMiddleware));\r\n\r\nconst store = createStore(rootReducer, composedEnhancer);\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport GlobalStyle from './globalStyles';\r\nimport store from './store/store';\r\n\r\nconst app = (\r\n  <Provider store={store}>\r\n    <GlobalStyle />\r\n    <App />\r\n  </Provider>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n"],"sourceRoot":""}